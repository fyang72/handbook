

 

# Appendix model library

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

 
```{r}
 # http://kateto.net/network-visualization
# shiny::runApp(system.file("shiny", package = "visNetwork"))

require(visNetwork)
require(shiny)

nodes <- data.frame(id = 1:15, label = paste("Label", 1:15),
                    group = sample(LETTERS[1:3], 15, replace = TRUE))

edges <- data.frame(from = trunc(runif(15)*(15-1))+1,
                    to = trunc(runif(15)*(15-1))+1)


#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
library("visNetwork") 
library(igraph)
library(shiny)
library(dplyr)


#HOME = "~/"
# nodes <- read.csv(paste0(HOME, "/nodes.csv"), header=T, as.is=T)
# links <- read.csv(paste0(HOME, "/links.csv"), header=T, as.is=T)
# HOME = "C:/Users/feng.yang/Documents/Data files/"

nodes <- read.csv(paste0("~/handbook/", "/Dataset1-Media-Example-NODES.csv"), header=T, as.is=T)
links <- read.csv(paste0("~/handbook/", "/Dataset1-Media-Example-EDGES.csv"), header=T, as.is=T)




# library("visNetwork") 
# visNetwork(nodes, links, width="100%", height="400px") %>% 
#   visEdges(arrows = "to")  %>% 
#  visHierarchicalLayout()



# We'll start by adding new node and edge attributes to our dataframes. 




g <- graph.ring(10,directed=TRUE)               
plot(g)
ShortPth <- get.shortest.paths(g, 8, 2)    # List of path 8->2
ShortPth
E(g)$color <- "SkyBlue2"
E(g)$width <- 1
#E(g, path=ShortPth)$color <- "red" 

E(g, path=ShortPth$vpath[[1]])$color <- "red"
#E(g, path=unlist(ShortPth$vpath))$color <- "red"
#E(g, path=unlist(ShortPth[[1]]))$color <- "red"
plot(g)















ba <-  sample_pa(n=100, power=1, m=1,  directed=F)
 #plot(ba, vertex.size=6, vertex.label=NA)

 # get.edgelist(ba)
links = as_data_frame(ba, what="edges")  %>% mutate(group=1)
nodes = data.frame(id=1:100) # as_data_frame(ba, what="vertices")%>% mutate(group=1)
#net <- graph_from_data_frame(d=links, vertices=nodes, directed=T) 

library("visNetwork") 
visNetwork(nodes, links, width="100%", height="400px") %>% 
  visEdges(arrows = "to")  %>% 
 visHierarchicalLayout()


#https://stackoverflow.com/questions/39916465/click-events-for-visnetwork-with-shiny

library(igraph)
HOME = "C:/Users/feng.yang/Documents/Data files/"

nodes <- read.csv(paste0(HOME, "/Dataset1-Media-Example-NODES.csv"), header=T, as.is=T)
links <- read.csv(paste0(HOME, "/Dataset1-Media-Example-EDGES.csv"), header=T, as.is=T)

head(nodes)
head(links)


library("visNetwork") 
visNetwork(nodes, links, width="100%", height="400px")

 
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
library("visNetwork") 
HOME = "~/"
nodes <- read.csv(paste0(HOME, "/nodes.csv"), header=T, as.is=T)
links <- read.csv(paste0(HOME, "/links.csv"), header=T, as.is=T)

# We'll start by adding new node and edge attributes to our dataframes. 
vis.nodes <- nodes
vis.links <- links
vis.nodes$shape  <- "dot"  
vis.nodes$shadow <- TRUE # Nodes will drop shadow
vis.nodes$title  <- vis.nodes$media # Text on click
vis.nodes$label  <- vis.nodes$type.label # Node label
vis.nodes$size   <- vis.nodes$audience.size # Node size
vis.nodes$borderWidth <- 2 # Node border width

vis.nodes$color.background <- rep(c("slategrey", "tomato", "gold"), times=20)[1:nrow(nodes)]  # [nodes$media.type]
vis.nodes$color.border <- "black"
vis.nodes$color.highlight.background <- "orange"
vis.nodes$color.highlight.border <- "darkred"

visNetwork(vis.nodes, vis.links, width="100%", height="400px", #background="#eeefff",
           main="Network", submain="And what a great network it is!",
           footer= "Hyperlinks and mentions among media sources") %>% 
  visEdges(arrows = "to") #%>% 
#visHierarchicalLayout()




 
library(igraph)
HOME = "C:/Users/feng.yang/Documents/Data files/"

nodes <- read.csv(paste0(HOME, "/Dataset1-Media-Example-NODES.csv"), header=T, as.is=T)
links <- read.csv(paste0(HOME, "/Dataset1-Media-Example-EDGES.csv"), header=T, as.is=T)

head(nodes)
head(links)


library("visNetwork") 
visNetwork(nodes, links, width="100%", height="400px")




visNetwork(nodes, links, width="100%", height="400px", background="#eeefff",
           main="Network", submain="And what a great network it is!",
           footer= "Hyperlinks and mentions among media sources")



# We'll start by adding new node and edge attributes to our dataframes. 
vis.nodes <- nodes
vis.links <- links

vis.nodes$shape  <- "dot"  
vis.nodes$shadow <- TRUE # Nodes will drop shadow
vis.nodes$title  <- vis.nodes$media # Text on click
vis.nodes$label  <- vis.nodes$type.label # Node label
vis.nodes$size   <- vis.nodes$audience.size # Node size
vis.nodes$borderWidth <- 2 # Node border width

vis.nodes$color.background <- c("slategrey", "tomato", "gold")[nodes$media.type]
vis.nodes$color.border <- "black"
vis.nodes$color.highlight.background <- "orange"
vis.nodes$color.highlight.border <- "darkred"

visNetwork(vis.nodes, vis.links)


```

## One compartment model

You can also embed plots, for example:

 

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.


## Two compartment model

You can also embed plots, for example:



## TMDD model

You can also embed plots, for example:


## PKPD model

You can also embed plots, for example:


